diff -ur setuptools-9999.orig/setup.py setuptools-9999/setup.py
--- setuptools-9999.orig/setup.py	2009-01-21 17:29:30.000000000 -0500
+++ setuptools-9999/setup.py	2009-01-21 17:35:35.807067468 -0500
@@ -2,6 +2,10 @@
 """Distutils setup file, used to install or test 'setuptools'"""
 
 from distutils.util import convert_path
+try:
+    from distutils.command.build_py import build_py_2to3 as build_py
+except ImportError:
+    from distutils.command.build_py import build_py
 
 d = {}
 exec(open(convert_path('setuptools/command/__init__.py')).read(), d)
@@ -93,6 +97,8 @@
     Topic :: System :: Systems Administration
     Topic :: Utilities""".splitlines() if f.strip()],
     scripts = [],
+    
+    cmdclass = {'build_py': build_py},
 
     # uncomment for testing
     # setup_requires = ['setuptools>=0.6a0'],
diff -ur setuptools-9999.orig/setuptools/extension.py setuptools-9999/setuptools/extension.py
--- setuptools-9999.orig/setuptools/extension.py	2009-01-21 17:29:30.000000000 -0500
+++ setuptools-9999/setuptools/extension.py	2009-01-21 17:37:51.666655075 -0500
@@ -1,5 +1,5 @@
 from distutils.core import Extension as _Extension
-from dist import _get_unpatched
+from .dist import _get_unpatched
 _Extension = _get_unpatched(_Extension)
 
 try:
